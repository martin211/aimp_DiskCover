<?xml version="1.0" encoding="utf-8" ?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="12.0">
  <Import Project="$(MSBuildProgramFiles32)\MSBuild\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets"/>
  <PropertyGroup>
    <BuildDirectory>$(MSBuildProjectDirectory)</BuildDirectory>
    <RootFolder>$(BuildDirectory)\..\</RootFolder>
    <BuildPath>$(BuildDirectory)\bin\$(Configuration)</BuildPath>
    <Configuration>Release</Configuration>
    <outputDir>$(RootFolder)</outputDir>
    <outPath>$(BaseOutputPath)</outPath>
  </PropertyGroup>

  <ItemGroup>
    <project Include="$(BuildPath)" >
      <mainfolder>DiskCover</mainfolder>
      <name>AIMP.SDK</name>
      <ProjectFile>DiskCover.csproj</ProjectFile>
      <artifacts>true</artifacts>
    </project>

    <project Include="$(BuildPath)langs" >
      <mainfolder>langs</mainfolder>
      <name>Plugin_langs</name>
      <type>Language</type>
      <artifacts>true</artifacts>
    </project>
  </ItemGroup>

  <Target Name="CopyArtifacts">
    <Message Text="Start Pack with parameters:"/>
    <Message Text="Configuration: $(Configuration)"/>
    <Message Text="Version: $(Version)"/>
    <Message Text="RootFolder: $(RootFolder)"/>
    <Message Text="BuildDirectory: $(BuildDirectory)"/>
    <Message Text="BuildPath: $(BuildPath)"/>
    <Message Text="DeploymentFolder: $(DeploymentFolder)"/>
    <Message Text="outputDir: $(outputDir)"/>
    <Message Text="BaseOutputPath: $(outPath)"/>
  </Target>

  <Target Name="PrepareFolder" >
    <RemoveDir Directories="$(outputDir)" />
    <MakeDir Directories="$(outputDir)" />
  </Target>
</Project>